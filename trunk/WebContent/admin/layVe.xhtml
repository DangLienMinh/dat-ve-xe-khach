<html xmlns='http://www.w3.org/1999/xhtml'
     xmlns:h='http://java.sun.com/jsf/html'
      xmlns:f='http://java.sun.com/jsf/core'
      xmlns:p='http://primefaces.org/ui'
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
     >

 <h:head>
 <title>Quản lí thông tin tài xế</title>
 <h:outputStylesheet library="css" name="main.css" />
 <h:outputScript library="js" name="tabview.js"/>
<style>
.ui-widget, .ui-widget .ui-widget {
     font-size: 85% !important;
}
</style>
 </h:head>
 <body>
     <div class="menuTrai">
     <h:form > 
	     <p:tieredMenu style="width:200px">  
	     <p:menuitem value="Futabus Travel"/>
	        <p:submenu label="Quản lí tuyến-chuyến xe">  
	            <p:menuitem value="Quản lí tuyến xe" outcome="QLTuyen"/>  
	            <p:menuitem value="Quản lí chuyến xe" outcome="QLChuyen"/>  
	        </p:submenu>  
	        <p:menuitem value="Quản lí xe" outcome="QLXe"/>  
	        <p:menuitem value="Quản lí tài xế" outcome="QLTaiXe"/> 
	        <p:menuitem value="Báo cáo thống kê"/>  
	        <p:separator/>   
	        <p:menuitem value="Thông tin tài khoản" outcome="QLTaiKhoan_NVDH"/> 
	    </p:tieredMenu>  
     </h:form> 
     </div>
     <div class="noiDung">
     <h:form id="form">
	     <p:outputLabel style="font-weight:bold;" value='Xin chào nhân viên, #{nhanVienMBean.hoTen}'></p:outputLabel><h:outputText value="&#160;" />  
	     <p:commandButton value="Đăng xuất" action="#{nhanVienMBean.dangXuat}"></p:commandButton>
	     <p:separator/>
	     
	     <p:panel header="Nhập thông tin vé">
	     	 <h:outputLabel value='Mã đặt vé' />
			 <p:inputText value='#{hoaDonMBean.hoaDon.maHD}'/>
			 <p:commandButton  value="Kiểm tra" action='#{hoaDonMBean.layVeChinhThuc}'></p:commandButton>
	     </p:panel>
	      <c:set var="dk"  value="#{hoaDonMBean.dieuKienLayVe}"/>
			<c:if test="${dk >= 1}">
				<p:panel header="Thông tin vé" style="text-align:center" id="in">
		            <h:panelGrid columns="2" style="width:100%" >
		                
		 				<h:outputLabel value="Họ tên"></h:outputLabel>
		                <h:outputText value="#{hoaDonMBean.hoaDon.ho} #{hoaDonMBean.hoaDon.ten}" />
						 <h:outputLabel value="Số ghế"></h:outputLabel>
		                <h:outputText value="#{hoaDonMBean.hoaDon.maGhe}" />
		                <h:outputLabel value="Biển số xe"></h:outputLabel>
		                <h:outputText value="#{hoaDonMBean.xe.bienSo}" />
		                
		            </h:panelGrid>
		            <p:commandButton value="In vé" icon="ui-icon-print">
				       <p:printer target="in" />
				    </p:commandButton>
		             
       			</p:panel>
			</c:if>
			<c:if test="${dk == -1}">
				<script type="text/javascript">
					alert('Không tồn tại mã đặt vé trên');
				</script>
			</c:if>
			<c:if test="${dk == 0}">
				<script type="text/javascript">
					alert('Mã đặt vé:  #{hoaDonMBean.hoaDon.maHD} đã được in vào #{hoaDonMBean.hoaDon.ngayNhanVe}  ');
				</script>
			</c:if>
	
		
     </h:form> 
     </div>
     
</body>
</html>

